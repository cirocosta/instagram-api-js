if("undefined"!=typeof exports)var $=require("jQuery");var ERRORS={no_cid_redir:"ClientID and Redirect URI must be Set.",no_uid_at:"UserID and AccessToken must be passed as arguments"},InstagramApi=function(e,t){if(!e||!t)throw new Error(ERRORS.no_cid_redir);this.clientId=e,this.redirUri=t};InstagramApi.fn=InstagramApi.prototype={AUTH_URL:"https://instagram.com/oauth/authorize/?client_id=CLIENT_ID&redirect_uri=REDIRECT_URI&response_type=token",BASE_URL:"https://api.instagram.com/v1/",_buildPath:function(e){switch(e){case"user.info":return this.BASE_URL+"users/USERID/?access_token=ACCESSTOKEN";case"user.feed":return this.BASE_URL+"users/self/feed?access_token=ACCESSTOKEN";case"user.media":return this.BASE_URL+"users/USERID/media/recent/?access_token=ACCESSTOKEN"}},getAuthUrl:function(){return this.AUTH_URL.replace(/CLIENT_ID/,this.clientId).replace(/REDIRECT_URI/,this.redirUri)},_getUserInfo:function(e,t,r){if(!e||!t)throw new Error(ERRORS.no_uid_at);return $.ajax({type:"GET",dataType:"jsonp",url:this._buildPath("user.info").replace(/USERID/,e).replace(/ACCESSTOKEN/,t),success:r})},_getUserMedia:function(e,t,r){if(!e||!t)throw new Error(ERRORS.no_uid_at);return $.ajax({type:"GET",dataType:"jsonp",url:this._buildPath("user.media").replace(/USERID/,e).replace(/ACCESSTOKEN/,t),success:r})},getNextPage:function(e,t){return e&&e.pagination&&e.pagination.next_url?$.ajax({type:"GET",dataType:"jsonp",url:e.pagination.next_url,success:t}):void 0}},InstagramApi.fn.user={info:function(){return InstagramApi.fn._getUserInfo.apply(InstagramApi.fn,arguments)},media:function(){return InstagramApi.fn._getUserMedia.apply(InstagramApi.fn,arguments)}},function(e){e.exports=InstagramApi}("undefined"==typeof module?this.mymodule={}:module,$);