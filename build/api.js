if("undefined"!=typeof exports)var $=require("jQuery");var ERRORS={no_cid_redir:"ClientID and Redirect URI must be Set.",no_uid_at:"UserID and AccessToken must be passed as arguments"},InstagramApi=function(e,r){if(!e||!r)throw new Error(ERRORS.no_cid_redir);this.clientId=e,this.redirUri=r};InstagramApi.fn=InstagramApi.prototype={AUTH_URL:"https://instagram.com/oauth/authorize/?client_id=CLIENT_ID&redirect_uri=REDIRECT_URI&response_type=token",BASE_URL:"https://api.instagram.com/v1/",_buildPath:function(e){switch(e){case"user.info":return this.BASE_URL+"users/USERID/?access_token=ACCESSTOKEN";case"user.feed":return this.BASE_URL+"users/self/feed?access_token=ACCESSTOKEN";case"user.media":return this.BASE_URL+"users/USERID/media/recent/?access_token=ACCESSTOKEN"}},getAuthUrl:function(){return this.AUTH_URL.replace(/CLIENT_ID/,this.clientId).replace(/REDIRECT_URI/,this.redirUri)},_getUserInfo:function(e,r,t){if(!e||!r)throw new Error(ERRORS.no_uid_at);return $.ajax({url:this._buildPath("user.info").replace(/USERID/,e).replace(/ACCESSTOKEN/,r),type:"GET",contentType:"text/plain",xhrFields:{withCredentials:!1}},t)},_getUserMedia:function(e,r,t){if(!e||!r)throw new Error(ERRORS.no_uid_at);return $.ajax({url:this._buildPath("user.media").replace(/USERID/,e).replace(/ACCESSTOKEN/,r)},t)}},InstagramApi.fn.user={info:function(){return InstagramApi.fn._getUserInfo.apply(InstagramApi.fn,arguments)},media:function(){return InstagramApi.fn._getUserMedia.apply(InstagramApi.fn,arguments)}},function(e){e.exports=InstagramApi}("undefined"==typeof module?this.mymodule={}:module,$);